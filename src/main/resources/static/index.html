<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css" rel="stylesheet">

  </head>
  <body>
  
  
    <div class="container-fluid" id="app">
 

		<div class="row" style="margin-top:200px;">
		  <div class="col-md-6"></div>
		  <div class="col-md-4">
		  
		    <form>
			  <div class="form-group">
			    <label for="exampleInputEmail1">UserName</label>
			    <input type="text" class="form-control" v-model="userName">
			  </div>
			  <div class="form-group">
			    <label for="exampleInputPassword1">Password</label>
			    <input type="password" class="form-control" v-model="password">
			  </div>
			  
			  <p class="help-block">{{message}}</p>
			  
			  <button type="button" class="btn btn-default"  v-on:click="submit()" >Submit</button>
			</form>
		  
		  </div>
		  <div class="col-md-2"></div>
		</div>

 
 
	</div>

  </body>
  
  
  <!-- jQuery (Bootstrap 的所有 JavaScript 插件都依赖 jQuery，所以必须放在前边) -->
  <script src="https://cdn.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js"></script>
  <!-- 加载 Bootstrap 的所有 JavaScript 插件。你也可以根据需要只加载单个插件。 -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/js/bootstrap.min.js"></script>

  <script src="https://cdn.staticfile.org/vue/2.2.2/vue.min.js"></script>
  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
  
  <script>
	new Vue({
	  el: '#app',
	  data: {
	    message: '',
	    userName:'',
	    password:''
	    
	  },
	  methods : {
		submit : function(){	
			
			
			  var target = this;
			
			  axios.post('/common/login', {
				  userName: this.uname,       
				  password: this.pwd  
			  })
			  .then(function (response) {
			      var success = response.data.success;
			      if(success == false){
			    	  target.message = response.data.errorName;
			      }else{
			    	  window.location.href = "/main.html";
			      }
			  })
			  .catch(function (error) {
			    console.log(error);
			  });
		}  
	  }
	})
	</script>

</html>